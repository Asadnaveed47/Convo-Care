<h4 class="font-medium text-[32px] leading-[100%] tracking-[0%] font-kanit">Dashboard <span
    class="text-gray-500 font-light">(Today)</span></h4>
<div class="p-6 pl-0 min-h-screen space-y-6">
  <!-- Top Stats -->
  <div class="grid grid-cols-4 gap-4">
    <div class="bg-gradient-to-r from-[#8901C7] to-[#57008F] p-4 rounded shadow flex items-center space-x-4">
      <div>
        <p class="text-2xl font-bold text-white">{{ cardDataMap?.TA || 0 }}</p>
        <h4 class="text-lg font-semibold text-white">Total Appointments</h4>
      </div>
    </div>

    <div class="bg-gradient-to-r from-[#8901C7] to-[#57008F] p-4 rounded shadow flex items-center space-x-4">
      <div>
        <p class="text-2xl font-bold text-white">{{ cardDataMap?.CMP || 0 }}</p>
        <h4 class="text-lg font-semibold text-white">Completed</h4>
      </div>
    </div>

    <div class="bg-gradient-to-r from-[#8901C7] to-[#57008F] p-4 rounded shadow flex items-center space-x-4">
      <div>
        <p class="text-2xl font-bold text-white">{{ cardDataMap?.CNL || 0 }}</p>
        <h4 class="text-lg font-semibold text-white">Cancelled</h4>
      </div>
    </div>

    <div class="bg-gradient-to-r from-[#8901C7] to-[#57008F] p-4 rounded shadow flex items-center space-x-4">
      <div>
        <p class="text-2xl font-bold text-white">{{ cardDataMap?.PND || 0 }}</p>
        <h4 class="text-lg font-semibold text-white">Pending</h4>
      </div>
    </div>
  </div>


  <div class="grid grid-cols-2 gap-6">
    <div class="bg-white rounded-3xl shadow p-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold">Service Booked <span class="text-gray-500 font-light">(Today)</span></h2>
      </div>
      <div class="h-[300px] mt-0">
        <app-column-rotated [chartData]="servicesBookedData"></app-column-rotated>
      </div>
    </div>

    <div class="bg-white rounded-3xl shadow p-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold">Patient Insights <span class="text-gray-500 font-light">(Today)</span></h2>
      </div>
      <div class="h-[300px] mt-0">
        <app-pie-chart [insightData]="patientInsightsData"></app-pie-chart>
      </div>
    </div>
  </div>


  <div class="grid grid-cols-1 gap-6">
    <!-- Booked Appointments -->
    <div class="col-span-2 bg-white rounded-3xl shadow p-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold">Upcoming Appointment <span class="text-gray-500 font-light">(Today)</span></h2>
      </div>
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="text-sm text-gray-600 bg-[#EDF4FC] ">
            <th>Name</th>
            <th>Assigned Staff</th>
            <th>Date/Time</th>
            <th>Service</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody class="text-sm text-gray-800">
          <tr *ngFor="let appointment of appointmentData" class="hover:bg-gray-50">
            <td>{{ appointment.customer_name }}</td>
            <td>{{ appointment.staff }}</td>
            <td>{{ appointment.start_time | date:'medium' }}</td>
            <td>{{ appointment.service }}</td>
            <td [ngClass]="{
      'text-green-600 font-semibold': appointment.status === 'confirmed',
      'text-red-600 font-semibold': appointment.status === 'cancel'
    }">
              {{ appointment.status === 'confirmed' ? 'Confirmed' : appointment.status === 'cancel' ? 'Cancel' :
              appointment.status }}
            </td>

          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>

<app-booking-form *ngIf="showModal" (modalClosed)="closeModal()">
</app-booking-form>